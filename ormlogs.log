[2021-02-16T13:15:00.448Z][INFO]: No classes were found using the provided glob pattern:  "server/src/subscriber/**/*.{ts,js}"
[2021-02-16T13:15:00.450Z][INFO]: All classes found using provided glob pattern "server/src/entity/**/*.{ts,js}" : "server/src/entity/AbstractBaseEntity.ts,server/src/entity/Course.ts,server/src/entity/Group.ts,server/src/entity/Room.ts,server/src/entity/ScheduledCourse.ts,server/src/entity/User.ts,server/src/entity/UseRole.ts"
[2021-02-16T13:15:00.926Z][INFO]: No classes were found using the provided glob pattern:  "server/src/migration/**/*.{ts,js}"
[2021-02-16T13:15:00.939Z][QUERY]: START TRANSACTION
[2021-02-16T13:15:00.940Z][QUERY]: SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (current_schema()) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')
[2021-02-16T13:15:00.944Z][QUERY]: SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (current_schema()) AND "tablename" NOT IN ('spatial_ref_sys')
[2021-02-16T13:15:00.946Z][QUERY]: SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (current_schema()) GROUP BY "n"."nspname", "t"."typname"
[2021-02-16T13:15:00.948Z][QUERY]: COMMIT
[2021-02-16T13:15:00.949Z][QUERY]: START TRANSACTION
[2021-02-16T13:15:00.951Z][QUERY]: SELECT * FROM current_schema()
[2021-02-16T13:15:00.952Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2021-02-16T13:15:00.957Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:15:00.957Z][QUERY]: 
            SELECT columns.*,
              pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description,
              ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype",
              pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type"
              FROM "information_schema"."columns"
              LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr"
              ON "col_attr"."attname" = "columns"."column_name"
              AND "col_attr"."attrelid" = (
                SELECT
                  "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls"
                  LEFT JOIN "pg_catalog"."pg_namespace" AS "ns"
                  ON "ns"."oid" = "cls"."relnamespace"
                WHERE "cls"."relname" = "columns"."table_name"
                AND "ns"."nspname" = "columns"."table_schema"
              )
            WHERE
            ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:15:00.957Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:15:00.957Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:15:00.958Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course_students_user')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2021-02-16T13:15:00.971Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'typeorm_metadata'
[2021-02-16T13:15:00.975Z]creating a new table: group
[2021-02-16T13:15:00.976Z][QUERY]: CREATE TABLE "group" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_a002b26b1f00821f08a8a7b69ef" PRIMARY KEY ("_id"))
[2021-02-16T13:15:00.981Z]creating a new table: role
[2021-02-16T13:15:00.981Z][QUERY]: CREATE TABLE "role" ("_id" BIGSERIAL NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_c983101a8be5ce732e3b63a9730" PRIMARY KEY ("_id"))
[2021-02-16T13:15:00.986Z]creating a new table: user
[2021-02-16T13:15:00.986Z][QUERY]: CREATE TABLE "user" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "username" character varying NOT NULL, "password" character varying NOT NULL, "token" character varying NOT NULL, CONSTRAINT "UQ_78a916df40e02a9deb1c4b75edb" UNIQUE ("username"), CONSTRAINT "UQ_a854e557b1b14814750c7c7b0c9" UNIQUE ("token"), CONSTRAINT "PK_457bfa3e35350a716846b03102d" PRIMARY KEY ("_id"))
[2021-02-16T13:15:00.993Z][QUERY]: CREATE INDEX "IDX_78a916df40e02a9deb1c4b75ed" ON "user" ("username") 
[2021-02-16T13:15:00.995Z]creating a new table: room
[2021-02-16T13:15:00.995Z][QUERY]: CREATE TABLE "room" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_4a8b1772aac726c0fe5ae11b554" PRIMARY KEY ("_id"))
[2021-02-16T13:15:00.999Z]creating a new table: course
[2021-02-16T13:15:01.000Z][QUERY]: CREATE TABLE "course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "totalHours" integer NOT NULL, "room_id" uuid, "teacher_id" uuid, CONSTRAINT "PK_ab9e0eff3d917f26c04846d8224" PRIMARY KEY ("_id"))
[2021-02-16T13:15:01.003Z]creating a new table: scheduled_course
[2021-02-16T13:15:01.003Z][QUERY]: CREATE TABLE "scheduled_course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP NOT NULL, CONSTRAINT "PK_b79a3107fcfc59db60653880d9c" PRIMARY KEY ("_id"))
[2021-02-16T13:15:01.006Z]creating a new table: user_roles_role
[2021-02-16T13:15:01.006Z][QUERY]: CREATE TABLE "user_roles_role" ("user_id" uuid NOT NULL, "role_id" bigint NOT NULL, CONSTRAINT "PK_cbb8cdf197992a93da55155c14e" PRIMARY KEY ("user_id", "role_id"))
[2021-02-16T13:15:01.009Z][QUERY]: CREATE INDEX "IDX_09d115a69b6014d324d592f9c4" ON "user_roles_role" ("user_id") 
[2021-02-16T13:15:01.012Z][QUERY]: CREATE INDEX "IDX_0e2f5483d5e8d52043f9763453" ON "user_roles_role" ("role_id") 
[2021-02-16T13:15:01.014Z]creating a new table: course_students_user
[2021-02-16T13:15:01.014Z][QUERY]: CREATE TABLE "course_students_user" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_db22f3df558a3d8249d83c91dc6" PRIMARY KEY ("course_id", "user_id"))
[2021-02-16T13:15:01.017Z][QUERY]: CREATE INDEX "IDX_fbad73cc90c0602db4d7ce0ee4" ON "course_students_user" ("course_id") 
[2021-02-16T13:15:01.019Z][QUERY]: CREATE INDEX "IDX_53492a1d45a60ce8c25d96da17" ON "course_students_user" ("user_id") 
[2021-02-16T13:15:01.024Z]creating a foreign keys: FK_ffc043ddabc04c58bbb2e7f36cc, FK_f4acb7f54962af04a558b1a5ed9 on table "course"
[2021-02-16T13:15:01.024Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_ffc043ddabc04c58bbb2e7f36cc" FOREIGN KEY ("room_id") REFERENCES "room"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:15:01.027Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_f4acb7f54962af04a558b1a5ed9" FOREIGN KEY ("teacher_id") REFERENCES "user"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:15:01.029Z]creating a foreign keys: FK_09d115a69b6014d324d592f9c42, FK_0e2f5483d5e8d52043f97634538 on table "user_roles_role"
[2021-02-16T13:15:01.029Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_09d115a69b6014d324d592f9c42" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:15:01.030Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_0e2f5483d5e8d52043f97634538" FOREIGN KEY ("role_id") REFERENCES "role"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:15:01.032Z]creating a foreign keys: FK_fbad73cc90c0602db4d7ce0ee4d, FK_53492a1d45a60ce8c25d96da174 on table "course_students_user"
[2021-02-16T13:15:01.032Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_fbad73cc90c0602db4d7ce0ee4d" FOREIGN KEY ("course_id") REFERENCES "course"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:15:01.033Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_53492a1d45a60ce8c25d96da174" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:15:01.035Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'query-result-cache'
[2021-02-16T13:15:01.037Z][QUERY]: CREATE TABLE "query-result-cache" ("id" SERIAL NOT NULL, "identifier" character varying, "time" bigint NOT NULL, "duration" integer NOT NULL, "query" text NOT NULL, "result" text NOT NULL, CONSTRAINT "PK_6a98f758d8bfd010e7e10ffd3d3" PRIMARY KEY ("id"))
[2021-02-16T13:15:01.041Z][QUERY]: COMMIT
[2021-02-16T13:15:01.046Z][QUERY]: START TRANSACTION
[2021-02-16T13:15:01.051Z][QUERY]: INSERT INTO "role"("name") VALUES ($1), ($2), ($3) RETURNING "_id" -- PARAMETERS: ["STUDENT","ADMIN","TEACHER"]
[2021-02-16T13:15:01.054Z][QUERY]: COMMIT
[2021-02-16T13:15:01.056Z][QUERY]: START TRANSACTION
[2021-02-16T13:15:01.062Z][QUERY]: INSERT INTO "user"("_id", "createdAt", "updatedAt", "deletedAt", "firstName", "lastName", "username", "password", "token") VALUES (DEFAULT, DEFAULT, DEFAULT, DEFAULT, $1, $2, $3, $4, $5) RETURNING "_id", "createdAt", "updatedAt", "deletedAt" -- PARAMETERS: ["Martin","PELCAT","pelcatm","$2b$04$AKAD8agqaraBzdGy53pB7uHtW9Tktm49fwXQhxJOB0uFxZtSkFMkC","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXN0TmFtZSI6IlBFTENBVCIsImZpcnN0TmFtZSI6Ik1hcnRpbiIsImRhdGUiOjE2MTM0ODEzMDEwNTgsInVzZXJuYW1lIjoicGVsY2F0bSIsImlhdCI6MTYxMzQ4MTMwMX0.PXhbqYszdOMts5QpALLQz6GJmG7TZ0QDEid3Js5mOfQ"]
[2021-02-16T13:15:01.068Z][QUERY]: INSERT INTO "user_roles_role"("user_id", "role_id") VALUES ($1, $2), ($3, $4), ($5, $6) -- PARAMETERS: ["9137fe53-05aa-48df-a02d-a7547fe426a9","1","9137fe53-05aa-48df-a02d-a7547fe426a9","2","9137fe53-05aa-48df-a02d-a7547fe426a9","3"]
[2021-02-16T13:15:01.071Z][QUERY]: COMMIT
[2021-02-16T13:19:29.315Z][INFO]: No classes were found using the provided glob pattern:  "server/src/subscriber/**/*.{ts,js}"
[2021-02-16T13:19:29.317Z][INFO]: All classes found using provided glob pattern "server/src/entity/**/*.{ts,js}" : "server/src/entity/AbstractBaseEntity.ts,server/src/entity/Course.ts,server/src/entity/Group.ts,server/src/entity/Room.ts,server/src/entity/ScheduledCourse.ts,server/src/entity/User.ts,server/src/entity/UseRole.ts"
[2021-02-16T13:19:29.731Z][INFO]: No classes were found using the provided glob pattern:  "server/src/migration/**/*.{ts,js}"
[2021-02-16T13:19:29.737Z][QUERY]: START TRANSACTION
[2021-02-16T13:19:29.738Z][QUERY]: SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (current_schema()) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')
[2021-02-16T13:19:29.743Z][QUERY]: SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (current_schema()) AND "tablename" NOT IN ('spatial_ref_sys')
[2021-02-16T13:19:29.746Z][QUERY]: DROP TABLE IF EXISTS "public"."group" CASCADE;
[2021-02-16T13:19:29.746Z][QUERY]: DROP TABLE IF EXISTS "public"."scheduled_course" CASCADE;
[2021-02-16T13:19:29.746Z][QUERY]: DROP TABLE IF EXISTS "public"."room" CASCADE;
[2021-02-16T13:19:29.746Z][QUERY]: DROP TABLE IF EXISTS "public"."course" CASCADE;
[2021-02-16T13:19:29.746Z][QUERY]: DROP TABLE IF EXISTS "public"."user" CASCADE;
[2021-02-16T13:19:29.747Z][QUERY]: DROP TABLE IF EXISTS "public"."user_roles_role" CASCADE;
[2021-02-16T13:19:29.747Z][QUERY]: DROP TABLE IF EXISTS "public"."role" CASCADE;
[2021-02-16T13:19:29.747Z][QUERY]: DROP TABLE IF EXISTS "public"."course_students_user" CASCADE;
[2021-02-16T13:19:29.747Z][QUERY]: DROP TABLE IF EXISTS "public"."query-result-cache" CASCADE;
[2021-02-16T13:19:29.759Z][QUERY]: SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (current_schema()) GROUP BY "n"."nspname", "t"."typname"
[2021-02-16T13:19:29.761Z][QUERY]: COMMIT
[2021-02-16T13:19:29.764Z][QUERY]: START TRANSACTION
[2021-02-16T13:19:29.765Z][QUERY]: SELECT * FROM current_schema()
[2021-02-16T13:19:29.767Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2021-02-16T13:19:29.771Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:19:29.771Z][QUERY]: 
            SELECT columns.*,
              pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description,
              ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype",
              pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type"
              FROM "information_schema"."columns"
              LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr"
              ON "col_attr"."attname" = "columns"."column_name"
              AND "col_attr"."attrelid" = (
                SELECT
                  "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls"
                  LEFT JOIN "pg_catalog"."pg_namespace" AS "ns"
                  ON "ns"."oid" = "cls"."relnamespace"
                WHERE "cls"."relname" = "columns"."table_name"
                AND "ns"."nspname" = "columns"."table_schema"
              )
            WHERE
            ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:19:29.771Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:19:29.772Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:19:29.772Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course_students_user')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2021-02-16T13:19:29.785Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'typeorm_metadata'
[2021-02-16T13:19:29.788Z]creating a new table: group
[2021-02-16T13:19:29.789Z][QUERY]: CREATE TABLE "group" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_a002b26b1f00821f08a8a7b69ef" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.794Z]creating a new table: role
[2021-02-16T13:19:29.794Z][QUERY]: CREATE TABLE "role" ("_id" BIGSERIAL NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_c983101a8be5ce732e3b63a9730" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.798Z]creating a new table: user
[2021-02-16T13:19:29.799Z][QUERY]: CREATE TABLE "user" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "username" character varying NOT NULL, "password" character varying NOT NULL, "token" character varying NOT NULL, CONSTRAINT "UQ_78a916df40e02a9deb1c4b75edb" UNIQUE ("username"), CONSTRAINT "UQ_a854e557b1b14814750c7c7b0c9" UNIQUE ("token"), CONSTRAINT "PK_457bfa3e35350a716846b03102d" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.805Z][QUERY]: CREATE INDEX "IDX_78a916df40e02a9deb1c4b75ed" ON "user" ("username") 
[2021-02-16T13:19:29.807Z]creating a new table: room
[2021-02-16T13:19:29.807Z][QUERY]: CREATE TABLE "room" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_4a8b1772aac726c0fe5ae11b554" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.811Z]creating a new table: course
[2021-02-16T13:19:29.811Z][QUERY]: CREATE TABLE "course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "totalHours" integer NOT NULL, "room_id" uuid, "teacher_id" uuid, CONSTRAINT "PK_ab9e0eff3d917f26c04846d8224" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.814Z]creating a new table: scheduled_course
[2021-02-16T13:19:29.814Z][QUERY]: CREATE TABLE "scheduled_course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP NOT NULL, CONSTRAINT "PK_b79a3107fcfc59db60653880d9c" PRIMARY KEY ("_id"))
[2021-02-16T13:19:29.817Z]creating a new table: user_roles_role
[2021-02-16T13:19:29.817Z][QUERY]: CREATE TABLE "user_roles_role" ("user_id" uuid NOT NULL, "role_id" bigint NOT NULL, CONSTRAINT "PK_cbb8cdf197992a93da55155c14e" PRIMARY KEY ("user_id", "role_id"))
[2021-02-16T13:19:29.819Z][QUERY]: CREATE INDEX "IDX_09d115a69b6014d324d592f9c4" ON "user_roles_role" ("user_id") 
[2021-02-16T13:19:29.821Z][QUERY]: CREATE INDEX "IDX_0e2f5483d5e8d52043f9763453" ON "user_roles_role" ("role_id") 
[2021-02-16T13:19:29.824Z]creating a new table: course_students_user
[2021-02-16T13:19:29.824Z][QUERY]: CREATE TABLE "course_students_user" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_db22f3df558a3d8249d83c91dc6" PRIMARY KEY ("course_id", "user_id"))
[2021-02-16T13:19:29.827Z][QUERY]: CREATE INDEX "IDX_fbad73cc90c0602db4d7ce0ee4" ON "course_students_user" ("course_id") 
[2021-02-16T13:19:29.829Z][QUERY]: CREATE INDEX "IDX_53492a1d45a60ce8c25d96da17" ON "course_students_user" ("user_id") 
[2021-02-16T13:19:29.833Z]creating a foreign keys: FK_ffc043ddabc04c58bbb2e7f36cc, FK_f4acb7f54962af04a558b1a5ed9 on table "course"
[2021-02-16T13:19:29.833Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_ffc043ddabc04c58bbb2e7f36cc" FOREIGN KEY ("room_id") REFERENCES "room"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:19:29.835Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_f4acb7f54962af04a558b1a5ed9" FOREIGN KEY ("teacher_id") REFERENCES "user"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:19:29.837Z]creating a foreign keys: FK_09d115a69b6014d324d592f9c42, FK_0e2f5483d5e8d52043f97634538 on table "user_roles_role"
[2021-02-16T13:19:29.837Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_09d115a69b6014d324d592f9c42" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:19:29.838Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_0e2f5483d5e8d52043f97634538" FOREIGN KEY ("role_id") REFERENCES "role"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:19:29.840Z]creating a foreign keys: FK_fbad73cc90c0602db4d7ce0ee4d, FK_53492a1d45a60ce8c25d96da174 on table "course_students_user"
[2021-02-16T13:19:29.840Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_fbad73cc90c0602db4d7ce0ee4d" FOREIGN KEY ("course_id") REFERENCES "course"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:19:29.841Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_53492a1d45a60ce8c25d96da174" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:19:29.843Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'query-result-cache'
[2021-02-16T13:19:29.845Z][QUERY]: CREATE TABLE "query-result-cache" ("id" SERIAL NOT NULL, "identifier" character varying, "time" bigint NOT NULL, "duration" integer NOT NULL, "query" text NOT NULL, "result" text NOT NULL, CONSTRAINT "PK_6a98f758d8bfd010e7e10ffd3d3" PRIMARY KEY ("id"))
[2021-02-16T13:19:29.849Z][QUERY]: COMMIT
[2021-02-16T13:19:29.853Z][QUERY]: START TRANSACTION
[2021-02-16T13:19:29.857Z][QUERY]: INSERT INTO "role"("name") VALUES ($1), ($2), ($3) RETURNING "_id" -- PARAMETERS: ["STUDENT","ADMIN","TEACHER"]
[2021-02-16T13:19:29.860Z][QUERY]: COMMIT
[2021-02-16T13:19:29.863Z][QUERY]: START TRANSACTION
[2021-02-16T13:19:29.866Z][QUERY]: INSERT INTO "user"("_id", "createdAt", "updatedAt", "deletedAt", "firstName", "lastName", "username", "password", "token") VALUES (DEFAULT, DEFAULT, DEFAULT, DEFAULT, $1, $2, $3, $4, $5) RETURNING "_id", "createdAt", "updatedAt", "deletedAt" -- PARAMETERS: ["Martin","PELCAT","pelcatm","$2b$04$LBjW7xA3fvwm3wrsadpoLe480vWCgwLspkDvyTKk93TdgQki8ei8W","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXN0TmFtZSI6IlBFTENBVCIsImZpcnN0TmFtZSI6Ik1hcnRpbiIsImRhdGUiOjE2MTM0ODE1Njk4NjQsInVzZXJuYW1lIjoicGVsY2F0bSIsImlhdCI6MTYxMzQ4MTU2OX0.WdB6yADTa2IURR_w15M9JIUREQJUVsar90AAE-1eLkQ"]
[2021-02-16T13:19:29.869Z][QUERY]: INSERT INTO "user_roles_role"("user_id", "role_id") VALUES ($1, $2), ($3, $4), ($5, $6) -- PARAMETERS: ["ef46d174-7752-436d-a1f8-e310d0c818a7","1","ef46d174-7752-436d-a1f8-e310d0c818a7","2","ef46d174-7752-436d-a1f8-e310d0c818a7","3"]
[2021-02-16T13:19:29.871Z][QUERY]: COMMIT
[2021-02-16T13:25:57.786Z][INFO]: No classes were found using the provided glob pattern:  "server/src/subscriber/**/*.{ts,js}"
[2021-02-16T13:25:57.788Z][INFO]: All classes found using provided glob pattern "server/src/entity/**/*.{ts,js}" : "server/src/entity/AbstractBaseEntity.ts,server/src/entity/Course.ts,server/src/entity/Group.ts,server/src/entity/Room.ts,server/src/entity/ScheduledCourse.ts,server/src/entity/User.ts,server/src/entity/UseRole.ts"
[2021-02-16T13:25:58.251Z][INFO]: No classes were found using the provided glob pattern:  "server/src/migration/**/*.{ts,js}"
[2021-02-16T13:25:58.258Z][QUERY]: START TRANSACTION
[2021-02-16T13:25:58.259Z][QUERY]: SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (current_schema()) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')
[2021-02-16T13:25:58.262Z][QUERY]: SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (current_schema()) AND "tablename" NOT IN ('spatial_ref_sys')
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."group" CASCADE;
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."scheduled_course" CASCADE;
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."room" CASCADE;
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."course" CASCADE;
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."user" CASCADE;
[2021-02-16T13:25:58.264Z][QUERY]: DROP TABLE IF EXISTS "public"."user_roles_role" CASCADE;
[2021-02-16T13:25:58.265Z][QUERY]: DROP TABLE IF EXISTS "public"."role" CASCADE;
[2021-02-16T13:25:58.265Z][QUERY]: DROP TABLE IF EXISTS "public"."course_students_user" CASCADE;
[2021-02-16T13:25:58.265Z][QUERY]: DROP TABLE IF EXISTS "public"."query-result-cache" CASCADE;
[2021-02-16T13:25:58.278Z][QUERY]: SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (current_schema()) GROUP BY "n"."nspname", "t"."typname"
[2021-02-16T13:25:58.280Z][QUERY]: COMMIT
[2021-02-16T13:25:58.284Z][QUERY]: START TRANSACTION
[2021-02-16T13:25:58.285Z][QUERY]: SELECT * FROM current_schema()
[2021-02-16T13:25:58.287Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2021-02-16T13:25:58.291Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:25:58.292Z][QUERY]: 
            SELECT columns.*,
              pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description,
              ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype",
              pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type"
              FROM "information_schema"."columns"
              LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr"
              ON "col_attr"."attname" = "columns"."column_name"
              AND "col_attr"."attrelid" = (
                SELECT
                  "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls"
                  LEFT JOIN "pg_catalog"."pg_namespace" AS "ns"
                  ON "ns"."oid" = "cls"."relnamespace"
                WHERE "cls"."relname" = "columns"."table_name"
                AND "ns"."nspname" = "columns"."table_schema"
              )
            WHERE
            ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:25:58.292Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:25:58.292Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:25:58.292Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course_students_user')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2021-02-16T13:25:58.308Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'typeorm_metadata'
[2021-02-16T13:25:58.311Z]creating a new table: group
[2021-02-16T13:25:58.313Z][QUERY]: CREATE TABLE "group" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_a002b26b1f00821f08a8a7b69ef" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.318Z]creating a new table: role
[2021-02-16T13:25:58.319Z][QUERY]: CREATE TABLE "role" ("_id" BIGSERIAL NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_c983101a8be5ce732e3b63a9730" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.323Z]creating a new table: user
[2021-02-16T13:25:58.324Z][QUERY]: CREATE TABLE "user" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "username" character varying NOT NULL, "password" character varying NOT NULL, "token" character varying NOT NULL, CONSTRAINT "UQ_78a916df40e02a9deb1c4b75edb" UNIQUE ("username"), CONSTRAINT "UQ_a854e557b1b14814750c7c7b0c9" UNIQUE ("token"), CONSTRAINT "PK_457bfa3e35350a716846b03102d" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.331Z][QUERY]: CREATE INDEX "IDX_78a916df40e02a9deb1c4b75ed" ON "user" ("username") 
[2021-02-16T13:25:58.333Z]creating a new table: room
[2021-02-16T13:25:58.333Z][QUERY]: CREATE TABLE "room" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_4a8b1772aac726c0fe5ae11b554" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.338Z]creating a new table: course
[2021-02-16T13:25:58.338Z][QUERY]: CREATE TABLE "course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "totalHours" integer NOT NULL, "room_id" uuid, "teacher_id" uuid, CONSTRAINT "PK_ab9e0eff3d917f26c04846d8224" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.342Z]creating a new table: scheduled_course
[2021-02-16T13:25:58.342Z][QUERY]: CREATE TABLE "scheduled_course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP NOT NULL, CONSTRAINT "PK_b79a3107fcfc59db60653880d9c" PRIMARY KEY ("_id"))
[2021-02-16T13:25:58.345Z]creating a new table: user_roles_role
[2021-02-16T13:25:58.346Z][QUERY]: CREATE TABLE "user_roles_role" ("user_id" uuid NOT NULL, "role_id" bigint NOT NULL, CONSTRAINT "PK_cbb8cdf197992a93da55155c14e" PRIMARY KEY ("user_id", "role_id"))
[2021-02-16T13:25:58.349Z][QUERY]: CREATE INDEX "IDX_09d115a69b6014d324d592f9c4" ON "user_roles_role" ("user_id") 
[2021-02-16T13:25:58.352Z][QUERY]: CREATE INDEX "IDX_0e2f5483d5e8d52043f9763453" ON "user_roles_role" ("role_id") 
[2021-02-16T13:25:58.354Z]creating a new table: course_students_user
[2021-02-16T13:25:58.354Z][QUERY]: CREATE TABLE "course_students_user" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_db22f3df558a3d8249d83c91dc6" PRIMARY KEY ("course_id", "user_id"))
[2021-02-16T13:25:58.357Z][QUERY]: CREATE INDEX "IDX_fbad73cc90c0602db4d7ce0ee4" ON "course_students_user" ("course_id") 
[2021-02-16T13:25:58.359Z][QUERY]: CREATE INDEX "IDX_53492a1d45a60ce8c25d96da17" ON "course_students_user" ("user_id") 
[2021-02-16T13:25:58.364Z]creating a foreign keys: FK_ffc043ddabc04c58bbb2e7f36cc, FK_f4acb7f54962af04a558b1a5ed9 on table "course"
[2021-02-16T13:25:58.364Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_ffc043ddabc04c58bbb2e7f36cc" FOREIGN KEY ("room_id") REFERENCES "room"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:25:58.367Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_f4acb7f54962af04a558b1a5ed9" FOREIGN KEY ("teacher_id") REFERENCES "user"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:25:58.368Z]creating a foreign keys: FK_09d115a69b6014d324d592f9c42, FK_0e2f5483d5e8d52043f97634538 on table "user_roles_role"
[2021-02-16T13:25:58.369Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_09d115a69b6014d324d592f9c42" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:25:58.370Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_0e2f5483d5e8d52043f97634538" FOREIGN KEY ("role_id") REFERENCES "role"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:25:58.372Z]creating a foreign keys: FK_fbad73cc90c0602db4d7ce0ee4d, FK_53492a1d45a60ce8c25d96da174 on table "course_students_user"
[2021-02-16T13:25:58.372Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_fbad73cc90c0602db4d7ce0ee4d" FOREIGN KEY ("course_id") REFERENCES "course"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:25:58.375Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_53492a1d45a60ce8c25d96da174" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:25:58.377Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'query-result-cache'
[2021-02-16T13:25:58.379Z][QUERY]: CREATE TABLE "query-result-cache" ("id" SERIAL NOT NULL, "identifier" character varying, "time" bigint NOT NULL, "duration" integer NOT NULL, "query" text NOT NULL, "result" text NOT NULL, CONSTRAINT "PK_6a98f758d8bfd010e7e10ffd3d3" PRIMARY KEY ("id"))
[2021-02-16T13:25:58.384Z][QUERY]: COMMIT
[2021-02-16T13:25:58.388Z][QUERY]: START TRANSACTION
[2021-02-16T13:25:58.393Z][QUERY]: INSERT INTO "role"("name") VALUES ($1), ($2), ($3) RETURNING "_id" -- PARAMETERS: ["STUDENT","ADMIN","TEACHER"]
[2021-02-16T13:25:58.397Z][QUERY]: COMMIT
[2021-02-16T13:25:58.400Z][QUERY]: START TRANSACTION
[2021-02-16T13:25:58.405Z][QUERY]: INSERT INTO "user"("_id", "createdAt", "updatedAt", "deletedAt", "firstName", "lastName", "username", "password", "token") VALUES (DEFAULT, DEFAULT, DEFAULT, DEFAULT, $1, $2, $3, $4, $5) RETURNING "_id", "createdAt", "updatedAt", "deletedAt" -- PARAMETERS: ["Martin","PELCAT","pelcatm","$2b$04$rO44qkh8AP6HcvebuJ3nkOgKO7zug72HWS3OkKAkqn7EXqUCiuQ.K","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXN0TmFtZSI6IlBFTENBVCIsImZpcnN0TmFtZSI6Ik1hcnRpbiIsImRhdGUiOjE2MTM0ODE5NTg0MDIsInVzZXJuYW1lIjoicGVsY2F0bSIsImlhdCI6MTYxMzQ4MTk1OH0.cwEtPWPXVq0afG8R_pihXlglU2r-dVYnItLHpGfXRLE"]
[2021-02-16T13:25:58.409Z][QUERY]: INSERT INTO "user_roles_role"("user_id", "role_id") VALUES ($1, $2), ($3, $4), ($5, $6) -- PARAMETERS: ["7980120b-f4db-47ee-8824-677c9e2ae174","1","7980120b-f4db-47ee-8824-677c9e2ae174","2","7980120b-f4db-47ee-8824-677c9e2ae174","3"]
[2021-02-16T13:25:58.411Z][QUERY]: COMMIT
[2021-02-16T13:27:04.112Z][INFO]: No classes were found using the provided glob pattern:  "server/src/subscriber/**/*.{ts,js}"
[2021-02-16T13:27:04.114Z][INFO]: All classes found using provided glob pattern "server/src/entity/**/*.{ts,js}" : "server/src/entity/AbstractBaseEntity.ts,server/src/entity/Course.ts,server/src/entity/Group.ts,server/src/entity/Room.ts,server/src/entity/ScheduledCourse.ts,server/src/entity/User.ts,server/src/entity/UseRole.ts"
[2021-02-16T13:27:04.524Z][INFO]: No classes were found using the provided glob pattern:  "server/src/migration/**/*.{ts,js}"
[2021-02-16T13:27:04.529Z][QUERY]: START TRANSACTION
[2021-02-16T13:27:04.530Z][QUERY]: SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (current_schema()) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')
[2021-02-16T13:27:04.534Z][QUERY]: SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (current_schema()) AND "tablename" NOT IN ('spatial_ref_sys')
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."course" CASCADE;
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."room" CASCADE;
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."user" CASCADE;
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."user_roles_role" CASCADE;
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."role" CASCADE;
[2021-02-16T13:27:04.537Z][QUERY]: DROP TABLE IF EXISTS "public"."course_students_user" CASCADE;
[2021-02-16T13:27:04.538Z][QUERY]: DROP TABLE IF EXISTS "public"."query-result-cache" CASCADE;
[2021-02-16T13:27:04.538Z][QUERY]: DROP TABLE IF EXISTS "public"."group" CASCADE;
[2021-02-16T13:27:04.538Z][QUERY]: DROP TABLE IF EXISTS "public"."scheduled_course" CASCADE;
[2021-02-16T13:27:04.552Z][QUERY]: SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (current_schema()) GROUP BY "n"."nspname", "t"."typname"
[2021-02-16T13:27:04.554Z][QUERY]: COMMIT
[2021-02-16T13:27:04.557Z][QUERY]: START TRANSACTION
[2021-02-16T13:27:04.559Z][QUERY]: SELECT * FROM current_schema()
[2021-02-16T13:27:04.560Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2021-02-16T13:27:04.565Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:27:04.565Z][QUERY]: 
            SELECT columns.*,
              pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description,
              ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype",
              pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type"
              FROM "information_schema"."columns"
              LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr"
              ON "col_attr"."attname" = "columns"."column_name"
              AND "col_attr"."attrelid" = (
                SELECT
                  "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls"
                  LEFT JOIN "pg_catalog"."pg_namespace" AS "ns"
                  ON "ns"."oid" = "cls"."relnamespace"
                WHERE "cls"."relname" = "columns"."table_name"
                AND "ns"."nspname" = "columns"."table_schema"
              )
            WHERE
            ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:27:04.566Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:27:04.566Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:27:04.566Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course_students_user')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2021-02-16T13:27:04.584Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'typeorm_metadata'
[2021-02-16T13:27:04.587Z]creating a new table: group
[2021-02-16T13:27:04.588Z][QUERY]: CREATE TABLE "group" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_a002b26b1f00821f08a8a7b69ef" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.593Z]creating a new table: role
[2021-02-16T13:27:04.594Z][QUERY]: CREATE TABLE "role" ("_id" BIGSERIAL NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_c983101a8be5ce732e3b63a9730" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.598Z]creating a new table: user
[2021-02-16T13:27:04.599Z][QUERY]: CREATE TABLE "user" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "username" character varying NOT NULL, "password" character varying NOT NULL, "token" character varying NOT NULL, CONSTRAINT "UQ_78a916df40e02a9deb1c4b75edb" UNIQUE ("username"), CONSTRAINT "UQ_a854e557b1b14814750c7c7b0c9" UNIQUE ("token"), CONSTRAINT "PK_457bfa3e35350a716846b03102d" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.604Z][QUERY]: CREATE INDEX "IDX_78a916df40e02a9deb1c4b75ed" ON "user" ("username") 
[2021-02-16T13:27:04.606Z]creating a new table: room
[2021-02-16T13:27:04.607Z][QUERY]: CREATE TABLE "room" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_4a8b1772aac726c0fe5ae11b554" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.611Z]creating a new table: course
[2021-02-16T13:27:04.611Z][QUERY]: CREATE TABLE "course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "totalHours" integer NOT NULL, "room_id" uuid, "teacher_id" uuid, CONSTRAINT "PK_ab9e0eff3d917f26c04846d8224" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.613Z]creating a new table: scheduled_course
[2021-02-16T13:27:04.613Z][QUERY]: CREATE TABLE "scheduled_course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP NOT NULL, CONSTRAINT "PK_b79a3107fcfc59db60653880d9c" PRIMARY KEY ("_id"))
[2021-02-16T13:27:04.616Z]creating a new table: user_roles_role
[2021-02-16T13:27:04.616Z][QUERY]: CREATE TABLE "user_roles_role" ("user_id" uuid NOT NULL, "role_id" bigint NOT NULL, CONSTRAINT "PK_cbb8cdf197992a93da55155c14e" PRIMARY KEY ("user_id", "role_id"))
[2021-02-16T13:27:04.619Z][QUERY]: CREATE INDEX "IDX_09d115a69b6014d324d592f9c4" ON "user_roles_role" ("user_id") 
[2021-02-16T13:27:04.621Z][QUERY]: CREATE INDEX "IDX_0e2f5483d5e8d52043f9763453" ON "user_roles_role" ("role_id") 
[2021-02-16T13:27:04.623Z]creating a new table: course_students_user
[2021-02-16T13:27:04.624Z][QUERY]: CREATE TABLE "course_students_user" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_db22f3df558a3d8249d83c91dc6" PRIMARY KEY ("course_id", "user_id"))
[2021-02-16T13:27:04.626Z][QUERY]: CREATE INDEX "IDX_fbad73cc90c0602db4d7ce0ee4" ON "course_students_user" ("course_id") 
[2021-02-16T13:27:04.628Z][QUERY]: CREATE INDEX "IDX_53492a1d45a60ce8c25d96da17" ON "course_students_user" ("user_id") 
[2021-02-16T13:27:04.632Z]creating a foreign keys: FK_ffc043ddabc04c58bbb2e7f36cc, FK_f4acb7f54962af04a558b1a5ed9 on table "course"
[2021-02-16T13:27:04.633Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_ffc043ddabc04c58bbb2e7f36cc" FOREIGN KEY ("room_id") REFERENCES "room"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:27:04.635Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_f4acb7f54962af04a558b1a5ed9" FOREIGN KEY ("teacher_id") REFERENCES "user"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:27:04.636Z]creating a foreign keys: FK_09d115a69b6014d324d592f9c42, FK_0e2f5483d5e8d52043f97634538 on table "user_roles_role"
[2021-02-16T13:27:04.636Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_09d115a69b6014d324d592f9c42" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:27:04.638Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_0e2f5483d5e8d52043f97634538" FOREIGN KEY ("role_id") REFERENCES "role"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:27:04.639Z]creating a foreign keys: FK_fbad73cc90c0602db4d7ce0ee4d, FK_53492a1d45a60ce8c25d96da174 on table "course_students_user"
[2021-02-16T13:27:04.639Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_fbad73cc90c0602db4d7ce0ee4d" FOREIGN KEY ("course_id") REFERENCES "course"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:27:04.641Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_53492a1d45a60ce8c25d96da174" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:27:04.642Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'query-result-cache'
[2021-02-16T13:27:04.644Z][QUERY]: CREATE TABLE "query-result-cache" ("id" SERIAL NOT NULL, "identifier" character varying, "time" bigint NOT NULL, "duration" integer NOT NULL, "query" text NOT NULL, "result" text NOT NULL, CONSTRAINT "PK_6a98f758d8bfd010e7e10ffd3d3" PRIMARY KEY ("id"))
[2021-02-16T13:27:04.650Z][QUERY]: COMMIT
[2021-02-16T13:27:04.654Z][QUERY]: START TRANSACTION
[2021-02-16T13:27:04.658Z][QUERY]: INSERT INTO "role"("name") VALUES ($1), ($2), ($3) RETURNING "_id" -- PARAMETERS: ["STUDENT","ADMIN","TEACHER"]
[2021-02-16T13:27:04.662Z][QUERY]: COMMIT
[2021-02-16T13:27:04.666Z][QUERY]: START TRANSACTION
[2021-02-16T13:27:04.669Z][QUERY]: INSERT INTO "user"("_id", "createdAt", "updatedAt", "deletedAt", "firstName", "lastName", "username", "password", "token") VALUES (DEFAULT, DEFAULT, DEFAULT, DEFAULT, $1, $2, $3, $4, $5) RETURNING "_id", "createdAt", "updatedAt", "deletedAt" -- PARAMETERS: ["Martin","PELCAT","pelcatm","$2b$04$xOrOCi7Y0dS/bG9LJ0iER.G02y5/iezpe/9loMIlUgRXRCxi9sWG.","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXN0TmFtZSI6IlBFTENBVCIsImZpcnN0TmFtZSI6Ik1hcnRpbiIsImRhdGUiOjE2MTM0ODIwMjQ2NjcsInVzZXJuYW1lIjoicGVsY2F0bSIsImlhdCI6MTYxMzQ4MjAyNH0.F5MQp9Ft84UFlrg14MvtzVQmlT-boEc-zqpySF1SfjE"]
[2021-02-16T13:27:04.673Z][QUERY]: INSERT INTO "user_roles_role"("user_id", "role_id") VALUES ($1, $2), ($3, $4), ($5, $6) -- PARAMETERS: ["fabe171b-8a6b-4a15-bbf4-d1fef836adea","1","fabe171b-8a6b-4a15-bbf4-d1fef836adea","2","fabe171b-8a6b-4a15-bbf4-d1fef836adea","3"]
[2021-02-16T13:27:04.675Z][QUERY]: COMMIT
[2021-02-16T13:27:05.937Z][QUERY]: SELECT "User"."_id" AS "User__id", "User"."createdAt" AS "User_createdAt", "User"."updatedAt" AS "User_updatedAt", "User"."deletedAt" AS "User_deletedAt", "User"."firstName" AS "User_firstName", "User"."lastName" AS "User_lastName", "User"."username" AS "User_username", "User"."password" AS "User_password", "User"."token" AS "User_token" FROM "user" "User" WHERE "User"."deletedAt" IS NULL
[2021-02-16T13:27:16.311Z][QUERY]: SELECT "User"."_id" AS "User__id", "User"."createdAt" AS "User_createdAt", "User"."updatedAt" AS "User_updatedAt", "User"."deletedAt" AS "User_deletedAt", "User"."firstName" AS "User_firstName", "User"."lastName" AS "User_lastName", "User"."username" AS "User_username", "User"."password" AS "User_password", "User"."token" AS "User_token" FROM "user" "User" WHERE "User"."deletedAt" IS NULL
[2021-02-16T13:27:21.283Z][QUERY]: SELECT "User"."_id" AS "User__id", "User"."createdAt" AS "User_createdAt", "User"."updatedAt" AS "User_updatedAt", "User"."deletedAt" AS "User_deletedAt", "User"."firstName" AS "User_firstName", "User"."lastName" AS "User_lastName", "User"."username" AS "User_username", "User"."password" AS "User_password", "User"."token" AS "User_token" FROM "user" "User" WHERE "User"."deletedAt" IS NULL
[2021-02-16T13:27:21.287Z][QUERY]: SELECT "roles"."_id" AS "roles__id", "roles"."name" AS "roles_name" FROM "role" "roles" INNER JOIN "user_roles_role" "user_roles_role" ON "user_roles_role"."user_id" IN ($1) AND "user_roles_role"."role_id"="roles"."_id" -- PARAMETERS: ["fabe171b-8a6b-4a15-bbf4-d1fef836adea"]
[2021-02-16T13:28:31.148Z][INFO]: No classes were found using the provided glob pattern:  "server/src/subscriber/**/*.{ts,js}"
[2021-02-16T13:28:31.150Z][INFO]: All classes found using provided glob pattern "server/src/entity/**/*.{ts,js}" : "server/src/entity/AbstractBaseEntity.ts,server/src/entity/Course.ts,server/src/entity/Group.ts,server/src/entity/Room.ts,server/src/entity/ScheduledCourse.ts,server/src/entity/User.ts,server/src/entity/UseRole.ts"
[2021-02-16T13:28:31.557Z][INFO]: No classes were found using the provided glob pattern:  "server/src/migration/**/*.{ts,js}"
[2021-02-16T13:28:31.563Z][QUERY]: START TRANSACTION
[2021-02-16T13:28:31.564Z][QUERY]: SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (current_schema()) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')
[2021-02-16T13:28:31.567Z][QUERY]: SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (current_schema()) AND "tablename" NOT IN ('spatial_ref_sys')
[2021-02-16T13:28:31.569Z][QUERY]: DROP TABLE IF EXISTS "public"."group" CASCADE;
[2021-02-16T13:28:31.569Z][QUERY]: DROP TABLE IF EXISTS "public"."scheduled_course" CASCADE;
[2021-02-16T13:28:31.569Z][QUERY]: DROP TABLE IF EXISTS "public"."room" CASCADE;
[2021-02-16T13:28:31.569Z][QUERY]: DROP TABLE IF EXISTS "public"."course" CASCADE;
[2021-02-16T13:28:31.569Z][QUERY]: DROP TABLE IF EXISTS "public"."user" CASCADE;
[2021-02-16T13:28:31.570Z][QUERY]: DROP TABLE IF EXISTS "public"."user_roles_role" CASCADE;
[2021-02-16T13:28:31.570Z][QUERY]: DROP TABLE IF EXISTS "public"."role" CASCADE;
[2021-02-16T13:28:31.570Z][QUERY]: DROP TABLE IF EXISTS "public"."course_students_user" CASCADE;
[2021-02-16T13:28:31.570Z][QUERY]: DROP TABLE IF EXISTS "public"."query-result-cache" CASCADE;
[2021-02-16T13:28:31.584Z][QUERY]: SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (current_schema()) GROUP BY "n"."nspname", "t"."typname"
[2021-02-16T13:28:31.586Z][QUERY]: COMMIT
[2021-02-16T13:28:31.589Z][QUERY]: START TRANSACTION
[2021-02-16T13:28:31.591Z][QUERY]: SELECT * FROM current_schema()
[2021-02-16T13:28:31.593Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2021-02-16T13:28:31.598Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:28:31.598Z][QUERY]: 
            SELECT columns.*,
              pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description,
              ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype",
              pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type"
              FROM "information_schema"."columns"
              LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr"
              ON "col_attr"."attname" = "columns"."column_name"
              AND "col_attr"."attrelid" = (
                SELECT
                  "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls"
                  LEFT JOIN "pg_catalog"."pg_namespace" AS "ns"
                  ON "ns"."oid" = "cls"."relnamespace"
                WHERE "cls"."relname" = "columns"."table_name"
                AND "ns"."nspname" = "columns"."table_schema"
              )
            WHERE
            ("table_schema" = 'public' AND "table_name" = 'group') OR ("table_schema" = 'public' AND "table_name" = 'role') OR ("table_schema" = 'public' AND "table_name" = 'user') OR ("table_schema" = 'public' AND "table_name" = 'room') OR ("table_schema" = 'public' AND "table_name" = 'course') OR ("table_schema" = 'public' AND "table_name" = 'scheduled_course') OR ("table_schema" = 'public' AND "table_name" = 'user_roles_role') OR ("table_schema" = 'public' AND "table_name" = 'course_students_user')
[2021-02-16T13:28:31.598Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:28:31.598Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'course_students_user'))
[2021-02-16T13:28:31.598Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'group') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'room') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'scheduled_course') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'user_roles_role') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'course_students_user')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2021-02-16T13:28:31.615Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'typeorm_metadata'
[2021-02-16T13:28:31.618Z]creating a new table: group
[2021-02-16T13:28:31.619Z][QUERY]: CREATE TABLE "group" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_a002b26b1f00821f08a8a7b69ef" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.625Z]creating a new table: role
[2021-02-16T13:28:31.626Z][QUERY]: CREATE TABLE "role" ("_id" BIGSERIAL NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_c983101a8be5ce732e3b63a9730" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.630Z]creating a new table: user
[2021-02-16T13:28:31.631Z][QUERY]: CREATE TABLE "user" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "firstName" character varying NOT NULL, "lastName" character varying NOT NULL, "username" character varying NOT NULL, "password" character varying NOT NULL, "token" character varying NOT NULL, CONSTRAINT "UQ_78a916df40e02a9deb1c4b75edb" UNIQUE ("username"), CONSTRAINT "UQ_a854e557b1b14814750c7c7b0c9" UNIQUE ("token"), CONSTRAINT "PK_457bfa3e35350a716846b03102d" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.638Z][QUERY]: CREATE INDEX "IDX_78a916df40e02a9deb1c4b75ed" ON "user" ("username") 
[2021-02-16T13:28:31.640Z]creating a new table: room
[2021-02-16T13:28:31.641Z][QUERY]: CREATE TABLE "room" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "name" character varying NOT NULL, CONSTRAINT "PK_4a8b1772aac726c0fe5ae11b554" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.645Z]creating a new table: course
[2021-02-16T13:28:31.645Z][QUERY]: CREATE TABLE "course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "totalHours" integer NOT NULL, "room_id" uuid, "teacher_id" uuid, CONSTRAINT "PK_ab9e0eff3d917f26c04846d8224" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.648Z]creating a new table: scheduled_course
[2021-02-16T13:28:31.649Z][QUERY]: CREATE TABLE "scheduled_course" ("_id" uuid NOT NULL DEFAULT uuid_generate_v4(), "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP NOT NULL, CONSTRAINT "PK_b79a3107fcfc59db60653880d9c" PRIMARY KEY ("_id"))
[2021-02-16T13:28:31.652Z]creating a new table: user_roles_role
[2021-02-16T13:28:31.652Z][QUERY]: CREATE TABLE "user_roles_role" ("user_id" uuid NOT NULL, "role_id" bigint NOT NULL, CONSTRAINT "PK_cbb8cdf197992a93da55155c14e" PRIMARY KEY ("user_id", "role_id"))
[2021-02-16T13:28:31.655Z][QUERY]: CREATE INDEX "IDX_09d115a69b6014d324d592f9c4" ON "user_roles_role" ("user_id") 
[2021-02-16T13:28:31.658Z][QUERY]: CREATE INDEX "IDX_0e2f5483d5e8d52043f9763453" ON "user_roles_role" ("role_id") 
[2021-02-16T13:28:31.660Z]creating a new table: course_students_user
[2021-02-16T13:28:31.661Z][QUERY]: CREATE TABLE "course_students_user" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_db22f3df558a3d8249d83c91dc6" PRIMARY KEY ("course_id", "user_id"))
[2021-02-16T13:28:31.663Z][QUERY]: CREATE INDEX "IDX_fbad73cc90c0602db4d7ce0ee4" ON "course_students_user" ("course_id") 
[2021-02-16T13:28:31.666Z][QUERY]: CREATE INDEX "IDX_53492a1d45a60ce8c25d96da17" ON "course_students_user" ("user_id") 
[2021-02-16T13:28:31.671Z]creating a foreign keys: FK_ffc043ddabc04c58bbb2e7f36cc, FK_f4acb7f54962af04a558b1a5ed9 on table "course"
[2021-02-16T13:28:31.671Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_ffc043ddabc04c58bbb2e7f36cc" FOREIGN KEY ("room_id") REFERENCES "room"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:28:31.674Z][QUERY]: ALTER TABLE "course" ADD CONSTRAINT "FK_f4acb7f54962af04a558b1a5ed9" FOREIGN KEY ("teacher_id") REFERENCES "user"("_id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2021-02-16T13:28:31.676Z]creating a foreign keys: FK_09d115a69b6014d324d592f9c42, FK_0e2f5483d5e8d52043f97634538 on table "user_roles_role"
[2021-02-16T13:28:31.676Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_09d115a69b6014d324d592f9c42" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:28:31.678Z][QUERY]: ALTER TABLE "user_roles_role" ADD CONSTRAINT "FK_0e2f5483d5e8d52043f97634538" FOREIGN KEY ("role_id") REFERENCES "role"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:28:31.680Z]creating a foreign keys: FK_fbad73cc90c0602db4d7ce0ee4d, FK_53492a1d45a60ce8c25d96da174 on table "course_students_user"
[2021-02-16T13:28:31.680Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_fbad73cc90c0602db4d7ce0ee4d" FOREIGN KEY ("course_id") REFERENCES "course"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:28:31.682Z][QUERY]: ALTER TABLE "course_students_user" ADD CONSTRAINT "FK_53492a1d45a60ce8c25d96da174" FOREIGN KEY ("user_id") REFERENCES "user"("_id") ON DELETE CASCADE ON UPDATE NO ACTION
[2021-02-16T13:28:31.684Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = current_schema() AND "table_name" = 'query-result-cache'
[2021-02-16T13:28:31.686Z][QUERY]: CREATE TABLE "query-result-cache" ("id" SERIAL NOT NULL, "identifier" character varying, "time" bigint NOT NULL, "duration" integer NOT NULL, "query" text NOT NULL, "result" text NOT NULL, CONSTRAINT "PK_6a98f758d8bfd010e7e10ffd3d3" PRIMARY KEY ("id"))
[2021-02-16T13:28:31.690Z][QUERY]: COMMIT
[2021-02-16T13:28:31.695Z][QUERY]: START TRANSACTION
[2021-02-16T13:28:31.699Z][QUERY]: INSERT INTO "role"("name") VALUES ($1), ($2), ($3) RETURNING "_id" -- PARAMETERS: ["STUDENT","ADMIN","TEACHER"]
[2021-02-16T13:28:31.703Z][QUERY]: COMMIT
[2021-02-16T13:28:31.706Z][QUERY]: START TRANSACTION
[2021-02-16T13:28:31.710Z][QUERY]: INSERT INTO "user"("_id", "createdAt", "updatedAt", "deletedAt", "firstName", "lastName", "username", "password", "token") VALUES (DEFAULT, DEFAULT, DEFAULT, DEFAULT, $1, $2, $3, $4, $5) RETURNING "_id", "createdAt", "updatedAt", "deletedAt" -- PARAMETERS: ["Martin","PELCAT","pelcatm","$2b$04$o/ngyoSs0DcZ3ocUOXFbO.m7vxTR9ehWRl7De5yKE6FPgLnvvg4NG","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXN0TmFtZSI6IlBFTENBVCIsImZpcnN0TmFtZSI6Ik1hcnRpbiIsImRhdGUiOjE2MTM0ODIxMTE3MDcsInVzZXJuYW1lIjoicGVsY2F0bSIsImlhdCI6MTYxMzQ4MjExMX0.qbGNM7iAOcVdZYIUJR7BWWZ1kzYKt66b6hx6FfSRwe8"]
[2021-02-16T13:28:31.715Z][QUERY]: INSERT INTO "user_roles_role"("user_id", "role_id") VALUES ($1, $2), ($3, $4), ($5, $6) -- PARAMETERS: ["142c25f6-c8f7-4a36-bd85-fdc8ef51e63b","1","142c25f6-c8f7-4a36-bd85-fdc8ef51e63b","2","142c25f6-c8f7-4a36-bd85-fdc8ef51e63b","3"]
[2021-02-16T13:28:31.717Z][QUERY]: COMMIT
[2021-02-16T13:28:33.798Z][QUERY]: SELECT "Room"."_id" AS "Room__id", "Room"."createdAt" AS "Room_createdAt", "Room"."updatedAt" AS "Room_updatedAt", "Room"."deletedAt" AS "Room_deletedAt", "Room"."name" AS "Room_name" FROM "room" "Room" WHERE ( "Room"."_id" = $1 ) AND ( "Room"."deletedAt" IS NULL ) LIMIT 1 -- PARAMETERS: [""]
[2021-02-16T13:28:33.801Z][FAILED QUERY]: SELECT "Room"."_id" AS "Room__id", "Room"."createdAt" AS "Room_createdAt", "Room"."updatedAt" AS "Room_updatedAt", "Room"."deletedAt" AS "Room_deletedAt", "Room"."name" AS "Room_name" FROM "room" "Room" WHERE ( "Room"."_id" = $1 ) AND ( "Room"."deletedAt" IS NULL ) LIMIT 1 -- PARAMETERS: [""]
[2021-02-16T13:28:33.801Z][QUERY ERROR]: error: invalid input syntax for type uuid: ""
